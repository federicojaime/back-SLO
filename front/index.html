<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>San Luis Opina - Portal de Noticias de San Luis, Argentina</title>

    <!-- SEO Meta Tags -->
    <meta name="description"
        content="Portal de noticias l√≠der de San Luis, Argentina. Noticias locales, pol√≠tica, deportes, econom√≠a y cultura. Radio FM 97.1 en vivo las 24 horas.">
    <meta name="keywords"
        content="San Luis, noticias, radio, FM 97.1, Argentina, portal, actualidad, deportes, pol√≠tica, econom√≠a">
    <meta name="author" content="San Luis Opina">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sanluisopina.com/">
    <meta property="og:title" content="San Luis Opina - Portal de Noticias y Radio FM 97.1">
    <meta property="og:description" content="Portal de noticias l√≠der de San Luis, Argentina. Radio FM 97.1 en vivo.">
    <meta property="og:image" content="https://sanluisopina.com/assets/images/og-image.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://sanluisopina.com/">
    <meta property="twitter:title" content="San Luis Opina - Portal de Noticias y Radio FM 97.1">
    <meta property="twitter:description"
        content="Portal de noticias l√≠der de San Luis, Argentina. Radio FM 97.1 en vivo.">
    <meta property="twitter:image" content="https://sanluisopina.com/assets/images/og-image.jpg">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <!-- CSS Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="assets/css/style.css" rel="stylesheet">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "NewsMediaOrganization",
        "name": "San Luis Opina",
        "url": "https://sanluisopina.com",
        "logo": "https://sanluisopina.com/assets/images/logo.png",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "San Luis",
            "addressRegion": "San Luis",
            "addressCountry": "AR"
        },
        "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+54-2664-207943",
            "contactType": "customer service"
        },
        "sameAs": [
            "https://facebook.com/SanLuisOpina",
            "https://twitter.com/SanLuisOpinaCom",
            "https://instagram.com/sanluisopina"
        ]
    }
    </script>
</head>

<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">
            <strong>San Luis Opina</strong><br>
            Cargando noticias...
        </div>
    </div>

    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <div class="live-indicator">
                        <div class="live-dot"></div>
                        <i class="fas fa-radio"></i>
                        <span><strong>EN VIVO:</strong> San Luis Opina FM 97.1</span>
                    </div>
                </div>
                <div class="col-md-6 text-md-end">
                    <div class="d-flex align-items-center justify-content-md-end gap-4">
                        <span id="current-time" class="fw-semibold"></span>
                        <a href="tel:2664207943" class="text-white text-decoration-none fw-semibold">
                            <i class="fas fa-phone me-2"></i>(2664) 207-943
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Header -->
    <header class="main-header">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light py-4">
                <a class="navbar-brand logo-container" href="#inicio">
                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjQiIGZpbGw9InVybCgjZ3JhZGllbnQwKSIvPgo8cGF0aCBkPSJNNjAgODBIMTQwVjEyMEg2MFY4MFoiIGZpbGw9IiNGQkJGMjQiLz4KPHN2ZyB4PSI4MCIgeT0iNDAiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+CjxwYXRoIGQ9Ik0xMCA1TDMwIDIwSDEwVjVaIiBmaWxsPSIjRkJCRjI0Ii8+Cjwvc3ZnPgo8dGV4dCB4PSIxMDAiIHk9IjE3MCIgZm9udC1mYW1pbHk9IkludGVyLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iODAwIiBmaWxsPSIjRkJCRjI0IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5TTzwvdGV4dD4KPGR1ZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0iZ3JhZGllbnQwIiB4MT0iMCIgeTE9IjAiIHgyPSIyMDAiIHkyPSIyMDAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzZCNDZDMSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM4QjVDRjYiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4="
                        alt="San Luis Opina Logo" class="logo-image">
                    <div>
                        <h1 class="site-title">San Luis Opina</h1>
                        <p class="site-subtitle">Portal de Noticias ‚Ä¢ Radio FM 97.1</p>
                    </div>
                </a>

                <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#inicio">
                                <i class="fas fa-home me-2"></i>Inicio
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#noticias">
                                <i class="fas fa-newspaper me-2"></i>Noticias
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-category="politica">
                                <i class="fas fa-landmark me-2"></i>Pol√≠tica
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-category="deportes">
                                <i class="fas fa-futbol me-2"></i>Deportes
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-category="economia">
                                <i class="fas fa-chart-line me-2"></i>Econom√≠a
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#contacto">
                                <i class="fas fa-envelope me-2"></i>Contacto
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="inicio" class="hero-section">
        <div class="container">
            <div class="hero-content" data-aos="fade-up">
                <div class="hero-badge">
                    <i class="fas fa-broadcast-tower"></i>
                    <span>EN VIVO FM 97.1</span>
                </div>
                <h2 class="hero-title">El Portal de Noticias<br>de San Luis</h2>
                <p class="hero-subtitle">Tu fuente confiable de informaci√≥n provincial. Noticias, deportes, pol√≠tica y
                    actualidad las 24 horas del d√≠a.</p>
                <div class="hero-cta">
                    <a href="#noticias" class="btn-primary-custom">
                        <i class="fas fa-newspaper me-2"></i>
                        Ver √öltimas Noticias
                    </a>
                    <a href="#radio" class="btn-outline">
                        <i class="fas fa-play me-2"></i>
                        Escuchar Radio
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured News Section -->
    <section class="featured-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div id="featuredNews">
                        <!-- Featured news will be loaded here -->
                        <div class="skeleton featured-news" style="height: 600px;"></div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="sidebar-section">
                        <h3 class="sidebar-title">
                            <i class="fas fa-clock"></i>
                            √öltimas Noticias
                        </h3>
                        <div id="latestNews">
                            <!-- Latest news will be loaded here -->
                            <div class="skeleton latest-news-item" style="height: 120px; margin-bottom: 15px;"></div>
                            <div class="skeleton latest-news-item" style="height: 120px; margin-bottom: 15px;"></div>
                            <div class="skeleton latest-news-item" style="height: 120px; margin-bottom: 15px;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- News Section -->
    <section id="noticias" class="news-section">
        <div class="container">
            <div class="section-header" data-aos="fade-up">
                <div class="section-badge">
                    <i class="fas fa-newspaper"></i>
                    <span>Noticias Actualizadas</span>
                </div>
                <h2 class="section-title">Toda la Actualidad</h2>
                <p class="section-subtitle">Mantente informado con las noticias m√°s importantes de San Luis y la regi√≥n.
                    Cobertura completa de pol√≠tica, deportes, econom√≠a y cultura.</p>
            </div>

            <!-- Categories Navigation -->
            <div class="categories-section">
                <div class="category-tabs" id="categoryTabs" data-aos="fade-up" data-aos-delay="100">
                    <!-- Categories will be loaded here -->
                    <div class="skeleton category-tab" style="width: 150px; height: 50px;"></div>
                    <div class="skeleton category-tab" style="width: 120px; height: 50px;"></div>
                    <div class="skeleton category-tab" style="width: 130px; height: 50px;"></div>
                </div>
            </div>

            <!-- News Grid -->
            <div class="row" id="newsContainer">
                <!-- News cards will be loaded here -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="skeleton news-card" style="height: 450px;"></div>
                </div>
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="skeleton news-card" style="height: 450px;"></div>
                </div>
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="skeleton news-card" style="height: 450px;"></div>
                </div>
            </div>

            <!-- Pagination -->
            <div class="pagination-container" id="paginationContainer">
                <!-- Pagination will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contacto" class="contact-section">
        <div class="container">
            <div class="section-header" data-aos="fade-up">
                <div class="section-badge">
                    <i class="fas fa-envelope"></i>
                    <span>Cont√°ctanos</span>
                </div>
                <h2 class="section-title">Estamos Aqu√≠ Para Escucharte</h2>
                <p class="section-subtitle">Env√≠anos tus noticias, comentarios o sugerencias. Tu opini√≥n es importante
                    para nosotros.</p>
            </div>

            <div class="row">
                <div class="col-lg-8" data-aos="fade-right">
                    <div class="contact-form">
                        <form onsubmit="sendMessage(event)">
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <label for="name" class="form-label">Nombre completo</label>
                                    <input type="text" class="form-control" id="name" placeholder="Tu nombre" required>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <label for="email" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="email" placeholder="tu@email.com"
                                        required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <label for="phone" class="form-label">Tel√©fono</label>
                                    <input type="tel" class="form-control" id="phone" placeholder="(2664) 123-456">
                                </div>
                                <div class="col-md-6 mb-4">
                                    <label for="subject" class="form-label">Asunto</label>
                                    <select class="form-select" id="subject" required>
                                        <option value="">Seleccionar asunto</option>
                                        <option value="noticia">Enviar noticia</option>
                                        <option value="programa">Programa de radio</option>
                                        <option value="publicidad">Publicidad</option>
                                        <option value="general">Consulta general</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-4">
                                <label for="message" class="form-label">Mensaje</label>
                                <textarea class="form-control" id="message" rows="6"
                                    placeholder="Escribe tu mensaje aqu√≠..." required></textarea>
                            </div>
                            <button type="submit" class="btn-accent">
                                <i class="fas fa-paper-plane me-2"></i>
                                Enviar Mensaje
                            </button>
                        </form>
                    </div>
                </div>

                <div class="col-lg-4" data-aos="fade-left">
                    <div class="contact-info">
                        <h4 class="text-white mb-4 fw-bold">Informaci√≥n de Contacto</h4>

                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div>
                                <h6>Direcci√≥n</h6>
                                <p>Av. Lafinur 1234<br>San Luis Capital, CP 5700<br>San Luis, Argentina</p>
                            </div>
                        </div>

                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-phone"></i>
                            </div>
                            <div>
                                <h6>Tel√©fono</h6>
                                <p>(2664) 207-943</p>
                            </div>
                        </div>

                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div>
                                <h6>Email</h6>
                                <p>contacto@sanluisopina.com</p>
                            </div>
                        </div>

                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-radio"></i>
                            </div>
                            <div>
                                <h6>Radio</h6>
                                <p>FM 97.1 San Luis<br>En vivo las 24 horas</p>
                            </div>
                        </div>

                        <div class="mt-4">
                            <h6 class="text-accent mb-3 fw-bold">Seguinos en Redes Sociales</h6>
                            <div class="social-links">
                                <a href="#" class="social-link" title="Facebook">
                                    <i class="fab fa-facebook-f"></i>
                                </a>
                                <a href="#" class="social-link" title="Twitter">
                                    <i class="fab fa-twitter"></i>
                                </a>
                                <a href="#" class="social-link" title="Instagram">
                                    <i class="fab fa-instagram"></i>
                                </a>
                                <a href="#" class="social-link" title="YouTube">
                                    <i class="fab fa-youtube"></i>
                                </a>
                                <a href="#" class="social-link" title="WhatsApp">
                                    <i class="fab fa-whatsapp"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-5">
                    <h3 class="footer-logo">San Luis Opina</h3>
                    <p class="footer-description">
                        Portal de noticias l√≠der en San Luis, Argentina. Comprometidos con la informaci√≥n veraz,
                        oportuna y de calidad. Conectando a los puntanos con su realidad las 24 horas del d√≠a a trav√©s
                        de nuestro portal web y radio FM 97.1.
                    </p>
                    <div class="social-links">
                        <a href="#" class="social-link" title="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-link" title="Twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link" title="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-link" title="YouTube">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="#" class="social-link" title="WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="#" class="social-link" title="LinkedIn">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>

                <div class="col-lg-2 col-md-6 mb-4">
                    <div class="footer-section">
                        <h5>Secciones</h5>
                        <ul class="footer-links">
                            <li><a href="#noticias">Todas las Noticias</a></li>
                            <li><a href="#" data-category="politica">Pol√≠tica</a></li>
                            <li><a href="#" data-category="deportes">Deportes</a></li>
                            <li><a href="#" data-category="economia">Econom√≠a</a></li>
                            <li><a href="#" data-category="cultura">Cultura</a></li>
                            <li><a href="#" data-category="sociedad">Sociedad</a></li>
                        </ul>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="footer-section">
                        <h5>Informaci√≥n</h5>
                        <ul class="footer-links">
                            <li><a href="#contacto">Contacto</a></li>
                            <li><a href="#nosotros">Qui√©nes Somos</a></li>
                            <li><a href="#publicidad">Publicidad</a></li>
                            <li><a href="#equipo">Nuestro Equipo</a></li>
                            <li><a href="#terminos">T√©rminos y Condiciones</a></li>
                            <li><a href="#privacidad">Pol√≠tica de Privacidad</a></li>
                        </ul>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="footer-section">
                        <h5>Radio FM 97.1</h5>
                        <div class="mb-4">
                            <div class="d-flex align-items-center gap-3 mb-3">
                                <i class="fas fa-broadcast-tower text-accent"></i>
                                <span>Transmitiendo las 24 horas</span>
                            </div>
                            <div class="d-flex align-items-center gap-3 mb-3">
                                <i class="fas fa-phone text-accent"></i>
                                <span>(2664) 207-943</span>
                            </div>
                            <div class="d-flex align-items-center gap-3 mb-3">
                                <i class="fas fa-envelope text-accent"></i>
                                <span>radio@sanluisopina.com</span>
                            </div>
                            <div class="d-flex align-items-center gap-3">
                                <i class="fas fa-map-marker-alt text-accent"></i>
                                <span>San Luis, Argentina</span>
                            </div>
                        </div>
                        <button class="btn-accent btn-sm" onclick="window.open('#', '_blank')">
                            <i class="fas fa-play me-2"></i>Escuchar en Vivo
                        </button>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <p>&copy; 2024 San Luis Opina. Todos los derechos reservados.</p>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <p>Desarrollado con üíú para San Luis, Argentina</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button class="scroll-top" id="scrollTop">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
        // API Configuration
        const API_BASE = '/back-SLO/public/api';
        let currentPage = 1;
        let currentCategory = 'all';
        let isLoading = false;

        // Initialize
        document.addEventListener('DOMContentLoaded', function () {
            initializeApp();
        });

        function initializeApp() {
            initializeAOS();
            updateTime();
            setupEventListeners();
            loadInitialData();
        }

        // Initialize AOS
        function initializeAOS() {
            AOS.init({
                duration: 800,
                once: true,
                offset: 100,
                easing: 'ease-out'
            });
        }

        // Update time
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('es-AR', {
                hour: '2-digit',
                minute: '2-digit',
                timeZone: 'America/Argentina/Buenos_Aires'
            });
            const dateString = now.toLocaleDateString('es-AR', {
                weekday: 'long',
                day: 'numeric',
                month: 'long'
            });

            const timeElement = document.getElementById('current-time');
            if (timeElement) {
                timeElement.innerHTML = `<i class="fas fa-clock me-2"></i>${dateString}, ${timeString}`;
            }
        }
        setInterval(updateTime, 60000);

        // Setup event listeners
        function setupEventListeners() {
            // Header scroll effect
            window.addEventListener('scroll', handleScroll);

            // Scroll to top
            document.getElementById('scrollTop').addEventListener('click', scrollToTop);

            // Smooth scrolling for navigation
            setupSmoothScrolling();

            // Navigation highlighting
            setupNavigationHighlighting();

            // Category links
            setupCategoryNavigation();
        }

        function handleScroll() {
            const header = document.querySelector('.main-header');
            const scrollTop = document.getElementById('scrollTop');

            if (window.scrollY > 100) {
                header.classList.add('scrolled');
                scrollTop.classList.add('visible');
            } else {
                header.classList.remove('scrolled');
                scrollTop.classList.remove('visible');
            }
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        function setupSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }

        function setupNavigationHighlighting() {
            window.addEventListener('scroll', function () {
                const sections = document.querySelectorAll('section[id]');
                const navLinks = document.querySelectorAll('.navbar-nav .nav-link');

                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (window.scrollY >= (sectionTop - 200)) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${current}`) {
                        link.classList.add('active');
                    }
                });
            });
        }

        function setupCategoryNavigation() {
            document.querySelectorAll('[data-category]').forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    const category = this.getAttribute('data-category');
                    if (category) {
                        filterByCategory(category);
                        document.getElementById('noticias').scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }

        // Load initial data
        async function loadInitialData() {
            showLoading();
            try {
                await Promise.all([
                    loadCategories(),
                    loadFeaturedNews(),
                    loadLatestNews(),
                    loadNews()
                ]);
            } catch (error) {
                console.error('Error loading initial data:', error);
                showError('Error al cargar las noticias. Por favor, recarga la p√°gina.');
            } finally {
                hideLoading();
            }
        }

        // Show/hide loading
        function showLoading() {
            document.getElementById('loadingOverlay').style.display = 'flex';
            isLoading = true;
        }

        function hideLoading() {
            setTimeout(() => {
                document.getElementById('loadingOverlay').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingOverlay').style.display = 'none';
                    isLoading = false;
                }, 500);
            }, 1000); // Minimum loading time for better UX
        }

        // Load categories
        async function loadCategories() {
            try {
                const response = await fetch(`${API_BASE}/categories`);
                const data = await response.json();

                if (data.success) {
                    renderCategories(data.data);
                }
            } catch (error) {
                console.error('Error loading categories:', error);
            }
        }

        // Render categories
        function renderCategories(categories) {
            const container = document.getElementById('categoryTabs');

            let html = `<div class="category-tab active" data-category="all" onclick="filterByCategory('all')">
                            <i class="fas fa-globe me-2"></i>
                            Todas las Noticias
                        </div>`;

            const categoryIcons = {
                'politica': 'fas fa-landmark',
                'deportes': 'fas fa-futbol',
                'economia': 'fas fa-chart-line',
                'cultura': 'fas fa-theater-masks',
                'sociedad': 'fas fa-users',
                'salud': 'fas fa-heartbeat',
                'tecnologia': 'fas fa-microchip',
                'educacion': 'fas fa-graduation-cap'
            };

            categories.forEach(category => {
                const icon = categoryIcons[category.slug] || 'fas fa-tag';
                html += `<div class="category-tab" data-category="${category.slug}" onclick="filterByCategory('${category.slug}')">
                            <i class="${icon} me-2"></i>
                            ${category.name}
                            <span class="badge">${category.article_count}</span>
                         </div>`;
            });

            container.innerHTML = html;
        }

        // Filter by category
        function filterByCategory(category) {
            if (isLoading || currentCategory === category) return;

            currentCategory = category;
            currentPage = 1;

            // Update active tab
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-category="${category}"]`).classList.add('active');

            // Show loading skeleton for news
            showNewsLoading();
            loadNews();
        }

        function showNewsLoading() {
            const container = document.getElementById('newsContainer');
            let html = '';
            for (let i = 0; i < 6; i++) {
                html += `
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="skeleton news-card" style="height: 450px;"></div>
                    </div>
                `;
            }
            container.innerHTML = html;
        }

        // Load featured news
        async function loadFeaturedNews() {
            try {
                const response = await fetch(`${API_BASE}/featured`);
                const data = await response.json();

                if (data.success && data.data) {
                    renderFeaturedNews(data.data);
                } else {
                    // Show placeholder if no featured news
                    showFeaturedPlaceholder();
                }
            } catch (error) {
                console.error('Error loading featured news:', error);
                showFeaturedPlaceholder();
            }
        }

        function showFeaturedPlaceholder() {
            const container = document.getElementById('featuredNews');
            container.innerHTML = `
                <div class="featured-news" style="background: linear-gradient(135deg, #6b46c1 0%, #8b5cf6 100%);">
                    <div class="featured-overlay" style="position: relative; background: none; height: 600px; display: flex; align-items: center; justify-content: center; text-align: center;">
                        <div>
                            <i class="fas fa-newspaper" style="font-size: 4rem; margin-bottom: 2rem; opacity: 0.7;"></i>
                            <h3 class="featured-title">Bienvenido a San Luis Opina</h3>
                            <p class="featured-excerpt">Tu portal de noticias est√° cargando el contenido m√°s reciente...</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Render featured news
        function renderFeaturedNews(article) {
            const container = document.getElementById('featuredNews');

            const html = `
                <div class="featured-news" onclick="openArticle('${article.slug}')" data-aos="fade-up">
                    <img src="${article.featured_image}" alt="${article.title}" class="featured-image" onerror="this.src='https://via.placeholder.com/800x600/6b46c1/ffffff?text=San+Luis+Opina'">
                    <div class="featured-overlay">
                        <span class="featured-category" style="background-color: ${article.category_color || '#fbbf24'}">${article.category_name || 'Noticias'}</span>
                        <h3 class="featured-title">${article.title}</h3>
                        <p class="featured-excerpt">${article.excerpt || ''}</p>
                        <div class="featured-meta">
                            <span><i class="fas fa-clock me-2"></i>${article.time_ago}</span>
                            <span><i class="fas fa-eye me-2"></i>${formatNumber(article.views)} vistas</span>
                            <span><i class="fas fa-user me-2"></i>${article.author_name}</span>
                        </div>
                    </div>
                </div>
            `;

            container.innerHTML = html;
        }

        // Load latest news
        async function loadLatestNews() {
            try {
                const response = await fetch(`${API_BASE}/latest?limit=5`);
                const data = await response.json();

                if (data.success) {
                    renderLatestNews(data.data);
                }
            } catch (error) {
                console.error('Error loading latest news:', error);
            }
        }

        // Render latest news
        function renderLatestNews(articles) {
            const container = document.getElementById('latestNews');

            let html = '';
            articles.forEach((article, index) => {
                html += `
                    <div class="latest-news-item" onclick="openArticle('${article.slug}')" 
                         data-aos="fade-left" data-aos-delay="${(index + 1) * 100}">
                        <img src="${article.featured_image}" alt="${article.title}" class="latest-news-image" 
                             onerror="this.src='https://via.placeholder.com/80x80/6b46c1/ffffff?text=SLO'">
                        <div class="latest-news-content">
                            <h6>${article.title}</h6>
                            <div class="latest-news-time">
                                <i class="fas fa-clock me-1"></i>${article.time_ago}
                            </div>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // Load news
        async function loadNews(append = false) {
            if (isLoading && !append) return;

            if (!append) isLoading = true;

            try {
                const params = new URLSearchParams({
                    page: currentPage,
                    limit: 12,
                    category: currentCategory
                });

                const response = await fetch(`${API_BASE}/news?${params}`);
                const data = await response.json();

                if (data.success) {
                    if (append) {
                        appendNews(data.data);
                    } else {
                        renderNews(data.data);
                    }
                    updatePagination(data.pagination);
                }
            } catch (error) {
                console.error('Error loading news:', error);
                showError('Error al cargar las noticias');
            } finally {
                if (!append) isLoading = false;
            }
        }

        // Render news
        function renderNews(articles) {
            const container = document.getElementById('newsContainer');

            if (articles.length === 0) {
                container.innerHTML = `
                    <div class="col-12 text-center py-5">
                        <i class="fas fa-search text-muted" style="font-size: 4rem; margin-bottom: 2rem;"></i>
                        <h4 class="text-muted">No hay noticias en esta categor√≠a</h4>
                        <p class="text-muted">Intenta con otra categor√≠a o vuelve m√°s tarde.</p>
                    </div>
                `;
                return;
            }

            let html = '';
            articles.forEach((article, index) => {
                html += createNewsCard(article, index);
            });

            container.innerHTML = html;
        }

        // Create news card
        function createNewsCard(article, index) {
            const categoryColor = article.category_color || '#6b46c1';

            return `
                <div class="col-lg-4 col-md-6 mb-4" data-aos="fade-up" data-aos-delay="${(index * 100) + 200}">
                    <article class="news-card" onclick="openArticle('${article.slug}')">
                        <img src="${article.featured_image}" alt="${article.title}" class="news-card-image" 
                             onerror="this.src='https://via.placeholder.com/400x250/${categoryColor.substring(1)}/ffffff?text=${encodeURIComponent(article.category_name || 'Noticias')}'">
                        <div class="news-card-content">
                            <span class="news-category" style="background: ${categoryColor};">
                                ${article.category_name || 'Noticias'}
                            </span>
                            <h3 class="news-title">${article.title}</h3>
                            <p class="news-excerpt">${article.excerpt || ''}</p>
                            <div class="news-meta">
                                <div class="news-date">
                                    <i class="fas fa-clock"></i>
                                    <span>${article.time_ago}</span>
                                </div>
                                <button class="share-btn" onclick="shareArticle(event, '${article.title}', '${article.slug}')">
                                    <i class="fas fa-share-alt"></i>
                                </button>
                            </div>
                        </div>
                    </article>
                </div>
            `;
        }

        // Update pagination
        function updatePagination(pagination) {
            const container = document.getElementById('paginationContainer');

            const hasNext = pagination.total >= pagination.limit;

            let html = '';

            if (currentPage > 1) {
                html += `<button class="pagination-btn" onclick="changePage(${currentPage - 1})">
                           <i class="fas fa-chevron-left me-2"></i>Anterior
                         </button>`;
            }

            html += `<div class="pagination-info">P√°gina ${currentPage}</div>`;

            if (hasNext) {
                html += `<button class="pagination-btn" onclick="changePage(${currentPage + 1})">
                           Siguiente<i class="fas fa-chevron-right ms-2"></i>
                         </button>`;
            }

            container.innerHTML = html;
        }

        // Change page
        function changePage(page) {
            if (isLoading) return;

            currentPage = page;
            showNewsLoading();
            loadNews();

            // Scroll to news section
            document.getElementById('noticias').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }

        // Utility functions
        function formatNumber(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'M';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            }
            return num.toString();
        }

        // Open article
        function openArticle(slug) {
            // TODO: Implement article page or redirect to backend view
            window.open(`/back-SLO/public/articles/view/${slug}`, '_blank');
        }

        // Share article
        function shareArticle(event, title, slug) {
            event.stopPropagation();

            const url = `${window.location.origin}/articulo/${slug}`;
            const text = `üì∞ ${title}\n\nLee la noticia completa en San Luis Opina`;

            if (navigator.share) {
                navigator.share({
                    title: title,
                    text: text,
                    url: url
                });
            } else {
                const shareText = `${text}\n\n${url}`;

                if (navigator.clipboard) {
                    navigator.clipboard.writeText(shareText).then(() => {
                        showSuccess('¬°Enlace copiado al portapapeles!');
                    }).catch(() => {
                        openWhatsApp(shareText);
                    });
                } else {
                    openWhatsApp(shareText);
                }
            }
        }

        // Open WhatsApp
        function openWhatsApp(text) {
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(text)}`;
            window.open(whatsappUrl, '_blank');
        }

        // Send contact message
        function sendMessage(event) {
            event.preventDefault();

            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                subject: document.getElementById('subject').value,
                message: document.getElementById('message').value
            };

            // TODO: Send to backend
            showSuccess('¬°Mensaje enviado correctamente! Te responderemos a la brevedad.');
            event.target.reset();
        }

        // Show success message
        function showSuccess(message) {
            // TODO: Implement elegant toast notification
            alert(message);
        }

        // Show error message
        function showError(message) {
            // TODO: Implement elegant error notification
            alert(`Error: ${message}`);
        }
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR_GA_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'YOUR_GA_ID');
    </script>
</body>

</html>